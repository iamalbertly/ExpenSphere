<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self' 'unsafe-inline' 'unsafe-eval' https://apis.google.com https://accounts.google.com https://*.googleapis.com; connect-src 'self' ws://127.0.0.1:* wss://127.0.0.1:* ws://localhost:* wss://localhost:* http://127.0.0.1:* http://localhost:* https://sheets.googleapis.com https://accounts.google.com https://apis.googleapis.com https://*.googleapis.com https://apis.google.com https://raw.githubusercontent.com https://*.githubusercontent.com; style-src 'self' 'unsafe-inline'; img-src 'self' data: https:; font-src 'self'; frame-src https://accounts.google.com"><title>ExpenSphere v0.0.29</title><script>function loadGoogleAPIs(){ return new Promise((resolve, reject)=>{ const gisScript=document.createElement('script'); gisScript.src='https://accounts.google.com/gsi/client'; gisScript.async=true; gisScript.defer=true; gisScript.onload=()=>{ const apiScript=document.createElement('script'); apiScript.src='https://apis.google.com/js/api.js'; apiScript.onload=resolve; apiScript.onerror=reject; document.head.appendChild(apiScript);}; gisScript.onerror=reject; document.head.appendChild(gisScript);});} async function loadConfiguration(){ try{ const response=await fetch('./config.js'); const configText=await response.text(); const configModule=new Function('return ' + configText.replace('export default', 'return'))(); window.APP_CONFIG={ clientId: configModule.clientId, clientSecret: configModule.clientSecret, apiKey: 'AIzaSyBOukcVnqFX_ZYRfOfnbVr5V7QqLtg9Hn0'}; return window.APP_CONFIG;} catch (error){ console.error('Failed to load configuration:', error); throw new Error('Failed to load configuration');}} async function bootstrapApplication(){ try{ await Promise.all([ loadGoogleAPIs(), loadConfiguration() ]); if (typeof initializeApp==='function'){ await initializeApp();} else{ throw new Error('Application initialization function not found');}} catch (error){ console.error('Bootstrap Error:', error); if (typeof showInitializationError==='function'){ showInitializationError(error.message);}}} if (document.readyState==='loading'){ document.addEventListener('DOMContentLoaded', bootstrapApplication);} else{ bootstrapApplication();} </script><style>:root{ --primary-color: #f5a623; --bg-dark: #1e1e2e; --bg-card: #28293d; --bg-input: #33344b; --text-light: #f5f5f5; --text-muted: #8e8ea0; --spacing-unit: clamp(8px, 2vw, 20px);} body{ font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background-color: var(--bg-dark); color: var(--text-light); margin: 0; padding: 0; min-height: 100vh; display: flex; flex-direction: column;} .container{ display: flex; flex-direction: column; height: 100vh; width: min(600px, 95%); margin: 0 auto; padding: 16px; gap: 16px; background: var(--bg-card); position: relative; overflow: hidden; border-radius: 12px; box-shadow: 0 8px 32px rgba(0, 0, 0, 0.2);} h1{ font-size: 1.5rem; margin: 0; padding: 8px 0; text-align: center; flex-shrink: 0;} .version{ font-size: 0.7em; opacity: 0.7;} .results-section{ flex: 1; overflow-y: auto; padding: 16px; margin-bottom: 16px; background: var(--bg-card); border-radius: 8px; order: 1;} .live-preview{ background: var(--bg-input); border-radius: 8px; padding: 12px; margin-bottom: 12px; font-size: 14px; color: var(--text-light); display: none;} .live-preview.show{ display: block;} .input-section{ position: sticky; bottom: 0; background: var(--bg-card); padding: 16px; border-top: 1px solid var(--bg-input); margin: 0 -16px -16px; order: 2; z-index: 100;} .transaction-navigation{ display: flex; align-items: center; justify-content: center; gap: 8px; padding: 8px 0; flex-shrink: 0;} .nav-button{ background: var(--bg-input); border: none; color: var(--text-light); width: 32px; height: 32px; border-radius: 16px; cursor: pointer; opacity: 0.8;} .nav-button:not(:disabled):hover{ opacity: 1; transform: translateY(-1px);} .nav-button:disabled{ opacity: 0.3; cursor: not-allowed;} .transaction-indicator{ min-width: 80px; text-align: center; font-size: 0.9em; color: var(--text-muted);} .editable-container{ flex: 1; overflow-y: auto; display: grid; grid-template-columns: repeat(2, 1fr); gap: 8px; padding: 12px; background: var(--bg-input); border-radius: 8px; margin-bottom: 8px;} .editable-field{ background: var(--bg-card); padding: 12px; border-radius: 6px; cursor: pointer; transition: transform 0.2s ease, background-color 0.2s ease; display: flex; flex-direction: column; gap: 4px;} .editable-field:hover{ transform: translateY(-1px); background: var(--bg-input);} .editable-field.full-width{ grid-column: 1 / -1;} .editable-label{ font-size: 11px; color: var(--text-muted); font-weight: 500; text-transform: uppercase; letter-spacing: 0.5px;} .editable-value{ font-size: 14px; line-height: 1.4; word-break: break-word; color: var(--text-light);} .input-wrapper{ position: relative;} .input-wrapper textarea{ width: 100%; padding: 12px; background: var(--bg-input); color: var(--text-light); border: none; border-radius: 8px; resize: none; font-size: 16px; line-height: 1.4; margin-bottom: 8px; max-height: 80px; } .action-buttons{ display: flex; gap: 8px;} .primary-button, .secondary-button{ flex: 1; height: 40px; padding: 0 16px; border: none; border-radius: 8px; font-size: 14px; font-weight: 500; cursor: pointer; display: flex; align-items: center; justify-content: center; gap: 6px; transition: transform 0.2s, background-color 0.2s;} .primary-button{ background: var(--primary-color); color: var(--bg-dark);} .secondary-button{ background: var(--bg-input); color: var(--text-light); position: relative;} .button-icon{ font-size: 1.1em;} .pending-badge{ position: absolute; top: -6px; right: -6px; background: var(--primary-color); color: var(--bg-dark); border-radius: 10px; padding: 2px 6px; font-size: 11px; font-weight: bold;} @media screen and (max-width: 768px){ .container{ width: 90%; min-width: 90%; height: calc(100vh - env(safe-area-inset-top) - env(safe-area-inset-bottom)); padding: 12px; border-radius: 0; box-shadow: none;} .input-section{ padding: 12px; padding-bottom: max(12px, env(safe-area-inset-bottom));} .action-buttons{ grid-template-columns: repeat(3, 1fr); gap: 6px;} .action-button{ padding: 8px; font-size: 13px;} .button-icon{ font-size: 16px;} .nav-button, .action-button, .date-header{ min-height: 44px;} .transaction-card{ padding: 12px; margin-bottom: 8px;} .field-label{ font-size: 11px;} .field-value{ font-size: 13px;} .results-section{ -webkit-overflow-scrolling: touch; scroll-padding: 20px;}} .transaction-review-modal{ max-width: min(800px, 95vw); max-height: 90vh; display: flex; flex-direction: column;} .transaction-list{ flex: 1; overflow-y: auto; padding: 8px 0; margin: 12px 0;} .transaction-item{ background: var(--bg-input); border-radius: 8px; padding: 12px; margin-bottom: 8px;} .transaction-item.current{ border: 2px solid var(--primary-color);} .transaction-actions{ display: flex; gap: 8px; margin-top: 8px;} .modal-footer{ border-top: 1px solid var(--bg-input); padding-top: 12px; margin-top: 12px; display: flex; justify-content: space-between; align-items: center;} .total-amount{ font-size: 1.1em; color: var(--primary-color); font-weight: 500;} .edit-overlay{ position: fixed; top: 0; left: 0; right: 0; bottom: 0; background: rgba(0, 0, 0, 0.7); backdrop-filter: blur(4px); z-index: 1002; display: none; opacity: 0; transition: opacity 0.3s ease;} .edit-overlay.show{ display: flex; justify-content: center; align-items: center; opacity: 1;} .edit-modal{ background: var(--bg-card); border-radius: 12px; padding: 20px; width: 90%; max-width: 400px; box-shadow: 0 8px 25px rgba(0, 0, 0, 0.4); transform: translateY(-20px); opacity: 0; transition: transform 0.3s ease, opacity 0.3s ease; display: none; position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); z-index: 1003;} .edit-modal.show{ display: block; transform: translate(-50%, -50%); opacity: 1;} .edit-modal h3{ margin: 0 0 15px 0; color: var(--text-light);} .edit-modal-content{ margin-bottom: 20px;} .edit-modal-content input, .edit-modal-content select{ width: 100%; padding: 10px; border: 1px solid var(--bg-input); border-radius: 6px; background: var(--bg-input); color: var(--text-light); font-size: 16px;} .edit-modal-buttons{ display: flex; gap: 10px;} .edit-modal-buttons button{ flex: 1; padding: 10px; border: none; border-radius: 6px; cursor: pointer; font-size: 14px; font-weight: 500; transition: background-color 0.2s;} .edit-modal-buttons button:not(.cancel){ background: var(--primary-color); color: var(--bg-dark);} .edit-modal-buttons button.cancel{ background: var(--bg-input); color: var(--text-light);} .compact-field{ cursor: pointer; position: relative;} .compact-field:hover::after{ content: '✎'; position: absolute; right: 5px; top: 50%; transform: translateY(-50%); color: #f5a623; font-size: 14px;} .compact-field.edited::before{ content: ''; position: absolute; left: -15px; top: 50%; transform: translateY(-50%); color: #4CAF50; font-size: 12px;} .edited-indicator{ position: absolute; right: -25px; top: 50%; transform: translateY(-50%); color: #4CAF50; font-size: 12px; font-weight: bold; opacity: 0; transition: opacity 0.3s;} .edited .edited-indicator{ opacity: 1;} .compact-field{ position: relative; padding: 8px; border-radius: 6px; transition: background-color 0.2s;} .compact-field:hover{ background-color: #3f4060;} .compact-field.edited{ padding-left: 25px;} .compact-field.edited::before{ left: 5px;} @media screen and (max-width: 768px){ .edit-modal{ width: 95%; max-width: none; margin: 10px;} .edit-modal .editable-input, .edit-modal .editable-select{ font-size: 16px; padding: 12px;} .edit-modal-buttons button{ padding: 12px; font-size: 16px;}} @media (hover: none){ .transaction-navigation::after{ content: 'Swipe to navigate'; position: absolute; bottom: -20px; left: 50%; transform: translateX(-50%); font-size: 12px; color: #8e8ea0; opacity: 0.7;}} .title-section{ position: sticky; top: 0; background: var(--bg-card); padding: var(--spacing-unit) 0; margin: calc(var(--spacing-unit) * -1) calc(var(--spacing-unit) * -1 0); border-bottom: 1px solid rgba(255, 255, 255, 0.1); z-index: 10;} .collapsible-trigger{ background: none; border: none; color: var(--primary-color); cursor: pointer; padding: 8px; width: 100%; text-align: left; font-size: 14px; display: flex; align-items: center; gap: 8px; margin-top: 8px;} .collapsible-trigger::before{ content: '+'; font-size: 18px; font-weight: bold;} .collapsible-trigger.expanded::before{ content: '-';} .collapsible-content{ display: none; padding-top: 8px;} .collapsible-content.show{ display: block;} .confidence-display{ color: var(--text-muted); font-size: 12px; text-align: right; padding: 4px 8px; background: var(--bg-input); border-radius: 4px; margin-top: 4px;} .feedback-section{ display: flex; align-items: center; gap: 10px; padding: 10px; background: var(--bg-input); border-radius: 8px; margin-bottom: 12px;} .feedback-button{ background: none; border: none; font-size: 20px; cursor: pointer; opacity: 0.7; transition: opacity 0.2s;} .feedback-button:hover{ opacity: 1;} .feedback-options{ display: flex; flex-direction: column; gap: 10px; margin: 15px 0;} .feedback-options label{ display: flex; align-items: center; gap: 8px; color: var(--text-light);} .correction-fields{ margin-top: 15px; padding-top: 15px; border-top: 1px solid var(--bg-input);} .submit-options{ display: flex; flex-direction: column; gap: 12px; margin: 15px 0;} .submit-option{ display: flex; flex-direction: column; align-items: flex-start; padding: 12px; background: var(--bg-input); border: none; border-radius: 8px; color: var(--text-light); cursor: pointer; transition: background 0.2s, transform 0.2s; width: 100%; text-align: left;} .submit-option:hover{ background: var(--primary-color); color: var(--bg-dark); transform: translateY(-1px);} .submit-option small{ color: var(--text-muted); font-size: 0.8em; margin-top: 4px;} .submit-option:hover small{ color: var(--bg-dark);} .pending-transactions{ margin-top: 12px; padding-top: 12px; border-top: 1px solid var(--bg-input);} .pending-transactions h4{ color: var(--text-muted); font-size: 0.9em; margin: 0 0 8px 0;} .view-pending{ width: 100%; padding: 10px; background: var(--bg-input); border: none; border-radius: 8px; color: var(--text-light); cursor: pointer; transition: background 0.2s;} .view-pending:hover{ background: var(--primary-color); color: var(--bg-dark);} .pending-list{ display: grid; grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); gap: 12px; max-height: 60vh; overflow-y: auto; padding: 4px; margin: 15px 0;} .pending-item{ background: var(--bg-input); border-radius: 8px; padding: 12px; display: flex; flex-direction: column; gap: 8px;} .pending-info{ margin-bottom: 8px;} .pending-details{ display: flex; flex-wrap: wrap; gap: 8px; margin-top: 4px; font-size: 0.9em; color: var(--text-muted);} .pending-actions{ display: flex; gap: 8px;} .pending-actions button{ padding: 6px 12px; border: none; border-radius: 4px; cursor: pointer; font-size: 0.9em; transition: transform 0.2s, opacity 0.2s;} .pending-actions button:hover{ transform: translateY(-1px); opacity: 0.9;} .submit-one{ background: var(--primary-color); color: var(--bg-dark);} .remove-one{ background: var(--bg-card); color: var(--text-light);} .submit-all{ background: var(--primary-color); color: var(--bg-dark); padding: 10px 20px; border: none; border-radius: 6px; cursor: pointer; transition: transform 0.2s, opacity 0.2s;} .submit-all:hover{ transform: translateY(-1px); opacity: 0.9;} @media screen and (max-width: 768px){ .pending-list{ max-height: 70vh;} .pending-actions{ flex-direction: column;} .pending-actions button{ width: 100%; padding: 8px;}} .input-wrapper textarea{ width: 100%; padding: 12px; background: var(--bg-input); color: var(--text-light); border: none; border-radius: 8px; resize: vertical; min-height: 60px; font-family: inherit; font-size: 14px; line-height: 1.4;} .input-wrapper textarea:focus{ outline: 1px solid var(--primary-color); box-shadow: 0 0 0 2px rgba(245, 166, 35, 0.2);} .input-wrapper textarea::placeholder{ color: var(--text-muted);} .view-saved-button{ background: var(--bg-input); color: var(--text-light); height: 40px; padding: 0 16px; border: none; border-radius: 8px; font-size: 14px; font-weight: 500; cursor: pointer; transition: transform 0.2s, background-color 0.2s; white-space: nowrap; display: flex; align-items: center; gap: 4px; position: relative;} .view-saved-button:hover{ background: #444561; transform: translateY(-1px);} @media screen and (max-width: 768px){ .action-buttons{ grid-template-columns: 1fr 1fr 1fr;} .view-saved-button{ width: 100%; justify-content: center;}} .container{ display: flex; flex-direction: column; height: 100vh; max-width: 600px; margin: 0 auto; padding: 16px; gap: 16px; background: var(--bg-card);} .input-section{ order: -1; position: relative; padding: 16px; background: var(--bg-card); border-bottom: 1px solid var(--bg-input);} .results-section{ flex: 1; overflow-y: auto; padding: 8px 0;} .transaction-review{ display: flex; flex-direction: column; gap: 12px; max-height: calc(100vh - 200px); overflow-y: auto;} .transaction-card{ background: var(--bg-input); border-radius: 8px; padding: 16px; display: grid; gap: 12px;} .transaction-header{ display: flex; justify-content: space-between; align-items: center;} .transaction-amount{ font-size: 1.2em; font-weight: 500; color: var(--primary-color);} .transaction-details{ display: grid; gap: 8px;} .transaction-field{ display: flex; flex-direction: column; gap: 4px;} .field-label{ font-size: 0.8em; color: var(--text-muted);} .field-value{ font-size: 0.95em;} .transaction-actions{ display: flex; gap: 8px; margin-top: 8px;} .action-button{ flex: 1; padding: 8px 12px; border: none; border-radius: 6px; font-size: 0.9em; cursor: pointer; display: flex; align-items: center; justify-content: center; gap: 4px; transition: transform 0.2s;} .action-button:hover{ transform: translateY(-1px);} .action-button.primary{ background: var(--primary-color); color: var(--bg-dark);} .action-button.secondary{ background: var(--bg-card); color: var(--text-light);} .action-button.danger{ background: #ff4444; color: white;} @media screen and (max-width: 768px){ .container{ padding: 12px; height: calc(100vh - env(safe-area-inset-top) - env(safe-area-inset-bottom));} .input-section{ padding: 12px;} .transaction-actions{ flex-direction: column;} .action-button{ width: 100%;}} .container{ display: flex; flex-direction: column; height: 100vh; max-width: 600px; margin: 0 auto; padding: 16px; gap: 16px; background: var(--bg-card);} .results-section{ flex: 1; overflow-y: auto; padding: 0; margin-bottom: 16px; order: 1; } .input-section{ position: sticky; bottom: 0; background: var(--bg-card); padding: 16px; border-top: 1px solid var(--bg-input); margin: 0 -16px -16px; order: 2; z-index: 100;} .live-preview{ background: var(--bg-input); border-radius: 8px; padding: 12px; margin-bottom: 12px; font-size: 14px; color: var(--text-light); display: none;} .live-preview.show{ display: block;} .action-buttons{ display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 8px; margin-top: 12px;} .edit-overlay{ z-index: 1000;} .edit-modal{ z-index: 1001;} .loading-overlay{ z-index: 1002;} .error-notification{ z-index: 1003;} .date-group{ margin-bottom: 16px;} .date-header{ width: 100%; display: flex; justify-content: space-between; align-items: center; padding: 12px; background: var(--bg-input); border: none; border-radius: 8px; color: var(--text-light); cursor: pointer; margin-bottom: 8px;} .date-header:hover{ background: var(--primary-color); color: var(--bg-dark);} .date-transactions{ display: none;} .date-transactions.show{ display: block;} .date-header .count{ color: var(--text-muted);} .date-header:hover .count{ color: var(--bg-dark);} .date-header .total{ font-weight: 500;} .loading-overlay{ position: fixed; top: 0; left: 0; right: 0; bottom: 0; background: rgba(0, 0, 0, 0.7); display: none; justify-content: center; align-items: center; z-index: 1002;} .loading-spinner{ width: 50px; height: 50px; border: 3px solid var(--text-muted); border-top-color: var(--primary-color); border-radius: 50%; animation: spin 1s linear infinite;} .success-notification{ position: fixed; top: 20px; left: 50%; transform: translateX(-50%); background: #4CAF50; color: white; padding: 12px 24px; border-radius: 8px; font-size: 14px; z-index: 1004; opacity: 0; transition: opacity 0.3s; box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);} .success-notification.show{ opacity: 1;} .error-notification{ position: fixed; top: 20px; left: 50%; transform: translateX(-50%); background: #ff4444; color: white; padding: 16px; border-radius: 8px; max-width: 90%; width: 400px; display: none; z-index: 1003; box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);} .error-notification.show{ display: block; animation: slideIn 0.3s ease-out;} @keyframes slideIn{ from{ transform: translate(-50%, -100%); opacity: 0;} to{ transform: translate(-50%, 0); opacity: 1;}} @keyframes spin{ to{ transform: rotate(360deg);}} .input-wrapper{ position: relative; margin-bottom: 8px;} .input-wrapper textarea{ width: 100%; padding: 12px; background: var(--bg-input); color: var(--text-light); border: 2px solid transparent; border-radius: 8px; resize: none; font-size: 16px; line-height: 1.4; transition: border-color 0.2s, box-shadow 0.2s;} .input-wrapper textarea:focus{ border-color: var(--primary-color); outline: none; box-shadow: 0 0 0 3px rgba(245, 166, 35, 0.2);} .input-wrapper .character-count{ position: absolute; right: 8px; bottom: 8px; font-size: 12px; color: var(--text-muted); pointer-events: none;} .action-buttons{ display: grid; grid-template-columns: repeat(3, 1fr); gap: 8px; margin-top: 12px;} .action-button{ position: relative; padding: 10px 16px; border: none; border-radius: 8px; font-size: 14px; font-weight: 500; cursor: pointer; display: flex; align-items: center; justify-content: center; gap: 6px; transition: transform 0.2s, background-color 0.2s; overflow: hidden;} .action-button::after{ content: ''; position: absolute; top: 50%; left: 50%; width: 100%; height: 100%; background: rgba(255, 255, 255, 0.1); transform: translate(-50%, -50%) scale(0); border-radius: 50%; transition: transform 0.3s;} .action-button:active::after{ transform: translate(-50%, -50%) scale(2);} .primary-button{ background: var(--primary-color); color: var(--bg-dark);} .secondary-button{ background: var(--bg-input); color: var(--text-light);} .transaction-card{ background: var(--bg-input); border-radius: 8px; padding: 16px; margin-bottom: 12px; transition: transform 0.2s;} .transaction-card:hover{ transform: translateY(-2px);} .transaction-header{ display: flex; justify-content: space-between; align-items: center; margin-bottom: 12px;} .transaction-amount{ font-size: 1.2em; font-weight: 500; color: var(--primary-color);} .confidence-badge{ padding: 4px 8px; border-radius: 12px; font-size: 12px; background: var(--bg-card); color: var(--text-muted);} .transaction-details{ display: grid; gap: 8px; margin-bottom: 12px;} .transaction-field{ display: flex; flex-direction: column; gap: 2px;} .field-label{ font-size: 12px; color: var(--text-muted); text-transform: uppercase; letter-spacing: 0.5px;} .field-value{ font-size: 14px; color: var(--text-light);} @media screen and (max-width: 768px){ .container{ padding: 12px; height: calc(100vh - env(safe-area-inset-top) - env(safe-area-inset-bottom));} .input-section{ padding: 12px; padding-bottom: max(12px, env(safe-area-inset-bottom));} .action-buttons{ grid-template-columns: 1fr;} .transaction-card{ padding: 12px;} .transaction-actions{ flex-direction: column; gap: 8px;} .action-button{ width: 100%;}} .input-wrapper textarea:focus + .character-count{ color: var(--primary-color);} *:focus-visible{ outline: 2px solid var(--primary-color); outline-offset: 2px;} .action-button.loading{ opacity: 0.7; cursor: not-allowed;} .action-button.loading .button-icon{ animation: spin 1s linear infinite;} .empty-state{ display: flex; flex-direction: column; align-items: center; justify-content: center; padding: 32px 16px; text-align: center; color: var(--text-muted);} .empty-state-icon{ font-size: 48px; margin-bottom: 16px; opacity: 0.5;} .empty-state-text{ font-size: 14px; line-height: 1.5; max-width: 280px; margin: 0 auto;} .input-wrapper textarea{ transition: all 0.2s ease;} .input-wrapper textarea:focus{ transform: translateY(-1px); box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);} .processing{ position: relative; pointer-events: none;} .processing::after{ content: ''; position: absolute; top: 0; left: 0; right: 0; bottom: 0; background: rgba(0, 0, 0, 0.5); backdrop-filter: blur(4px); border-radius: inherit; display: flex; align-items: center; justify-content: center; font-size: 14px; color: var(--text-light);} .confidence-indicator{ display: inline-flex; align-items: center; gap: 6px; padding: 4px 8px; border-radius: 12px; font-size: 12px; background: var(--bg-card);} .confidence-high{ color: #4CAF50;} .confidence-medium{ color: #FFC107;} .confidence-low{ color: #FF5722;} .help-text{ font-size: 12px; color: var(--text-muted); margin-top: 4px; padding: 0 4px;} .keyboard-shortcuts{ position: absolute; bottom: 8px; right: 8px; font-size: 11px; color: var(--text-muted); pointer-events: none;} .keyboard-shortcut{ display: inline-flex; align-items: center; gap: 4px; margin-left: 8px;} .key{ padding: 2px 4px; border-radius: 4px; background: var(--bg-input); font-family: monospace;} @media screen and (max-width: 768px){ body{ position: relative; height: 100%; overflow-y: auto; -webkit-overflow-scrolling: touch;} .container{ width: 90%; min-width: 90%; height: auto; min-height: 100vh; padding: 12px; display: flex; flex-direction: column; border-radius: 0; box-shadow: none;} .input-section{ position: fixed; bottom: 0; left: 0; right: 0; background: var(--bg-card); padding: 12px; padding-bottom: max(12px, env(safe-area-inset-bottom)); border-top: 1px solid var(--bg-input); z-index: 100; transform: translateZ(0);} .input-wrapper{ position: relative; margin-bottom: 8px;} .input-wrapper textarea{ max-height: 80px; padding: 10px; font-size: 16px; line-height: 1.3; border-radius: 8px;} .results-section{ margin-bottom: 160px; padding-bottom: env(safe-area-inset-bottom); overflow-y: visible;} .container.keyboard-visible{ padding-bottom: 160px;} .input-section.keyboard-visible{ position: sticky;} .action-buttons{ display: grid; grid-template-columns: repeat(3, 1fr); gap: 8px;} .action-button{ height: 44px; padding: 0 12px; font-size: 13px;} .button-icon{ font-size: 18px;} .results-section{ -webkit-overflow-scrolling: touch; scroll-padding-bottom: 160px;} .live-preview{ margin: 8px 0; padding: 10px; border-radius: 6px;} .transaction-card{ margin-bottom: 10px; padding: 12px;}} @supports (-webkit-touch-callout: none){ .input-section{ padding-bottom: max(12px, env(safe-area-inset-bottom));} .results-section{ padding-bottom: env(safe-area-inset-bottom);}} </style></head><body><div class="loading-overlay"><div class="loading-spinner"></div></div><div class="error-notification"><div class="error-content"><div class="error-title"></div><div class="error-message"></div></div><button class="error-close" onclick="closeError()">×</button></div><div class="container"><h1>ExpenSphere <span class="version">v0.0.29</span></h1><div class="results-section"><div class="live-preview"></div><div id="editableContainer" class="editable-container"></div><div class="transaction-navigation"><button class="nav-button" id="prevTransaction" disabled onclick="navigateTransaction(-1)">←</button><span class="transaction-indicator">No Transactions</span><button class="nav-button" id="nextTransaction" disabled onclick="navigateTransaction(1)">→</button></div></div><div class="input-section"><div class="input-wrapper"><textarea id="inputText" autofocus placeholder="Type expense (e.g., 'gave irene 50k for home')" rows="2"></textarea></div><div class="action-buttons"><button class="primary-button" onclick="submitTransaction()"><span class="button-icon">📝</span>Submit </button><button class="secondary-button" onclick="saveForLater()"><span class="button-icon">💾</span>Save </button><button class="secondary-button" onclick="showPendingTransactions()"><span class="button-icon">📋</span>Saved <span class="pending-badge" style="display: none;">0</span></button></div></div></div><div class="edit-overlay"></div><div class="edit-modal"><h3>Edit Field</h3><div class="edit-modal-content"></div><div class="edit-modal-buttons"><button class="cancel" onclick="window.closeEditModal()">Cancel</button><button onclick="window.saveEdit()">Save</button></div></div></body></html>